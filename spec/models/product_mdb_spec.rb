require 'rails_helper'

RSpec.describe ProductMdb, type: :model do
#    subject { 
#    described_class.create!(
#      country: "PT",
#      brand: "test brand1",
#      product_id: 2,
#      product_name: "test product2",
#      shop_name: "test shop2",
#      product_category_id: 1,
#      price: 19.99,
#      url: "http://example.com/product"
#    )
#  }

#  context "validations" do
#    it "is valid with all attributes" do
#      expect(subject).to be_valid
#    end

#    it "is invalid without a country" do
#      subject.country = nil
#      expect(subject).not_to be_valid
#    end

#    it "is invalid without a product_id" do
#      subject.product_id = nil
#      expect(subject).not_to be_valid
#    end

#    it "validates uniqueness of product_id scoped to country and shop_name" do
#      described_class.create!(
#        country: "PT",
#        brand: "test brand1",
#        product_id: 2,
#        product_name: "test product2",
#        shop_name: "test shop2",
#        product_category_id: 1,
#        price: 19.99,
#        url: "http://example.com/product"
#      )

#      expect(subject).not_to be_valid
#      expect(subject.errors[:product_id]).to include("must be unique for the same country and shop.")
#    end
#  end
end
